<!DOCTYPE html>
<html>
<head>
  <title>Guestbook</title>
  <script>
    async function refreshEntries() {
      const response = await fetch('/list');
      const html = await response.text();
      document.getElementById('entries').innerHTML = html;
    }

    window.onload = refreshEntries;
  </script>
</head>
<body>
<h1>Guestbook</h1>
<form action="/add" method="POST" onsubmit="setTimeout(refreshEntries, 300);">
  <input type="text" name="name" placeholder="Your name" required>
  <button type="submit">Sign</button>
</form>
<ul id="entries"></ul>
</body>
</html>
